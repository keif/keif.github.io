---
export interface Props {
  type?: "info" | "warning" | "error" | "success";
}

const { type = "info" } = Astro.props;

const styles = {
  info: {
    bg: "bg-blue-50 dark:bg-blue-950/30",
    border: "border-blue-200 dark:border-blue-800",
    icon: "text-blue-600 dark:text-blue-400",
    title: "text-blue-800 dark:text-blue-300",
  },
  warning: {
    bg: "bg-amber-50 dark:bg-amber-950/30",
    border: "border-amber-200 dark:border-amber-800",
    icon: "text-amber-600 dark:text-amber-400",
    title: "text-amber-800 dark:text-amber-300",
  },
  error: {
    bg: "bg-red-50 dark:bg-red-950/30",
    border: "border-red-200 dark:border-red-800",
    icon: "text-red-600 dark:text-red-400",
    title: "text-red-800 dark:text-red-300",
  },
  success: {
    bg: "bg-green-50 dark:bg-green-950/30",
    border: "border-green-200 dark:border-green-800",
    icon: "text-green-600 dark:text-green-400",
    title: "text-green-800 dark:text-green-300",
  },
};

const icons = {
  info: "ℹ️",
  warning: "⚠️",
  error: "❌",
  success: "✅",
};

const s = styles[type];
---

<aside
  class:list={[
    "my-6 rounded-lg border-l-4 p-4",
    s.bg,
    s.border,
  ]}
  role="note"
>
  <div class="flex gap-3">
    <span class={`text-lg flex-shrink-0 ${s.icon}`} aria-hidden="true">
      {icons[type]}
    </span>
    <div class="prose-sm text-foreground [&>p]:m-0 [&>p:not(:last-child)]:mb-2">
      <slot />
    </div>
  </div>
</aside>
