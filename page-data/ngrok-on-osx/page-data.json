{"componentChunkName":"component---src-templates-post-js","path":"/ngrok-on-osx","result":{"data":{"markdownRemark":{"html":"<p>I'm attempting to get <a href=\"https://ngrok.com/\">ngrok</a> to properly tunnel from my main server running an application, to ping API calls locally to verify code working properly (i.e. \"the logging system may noy be perfect and this is better.\") So what I've done:</p>\n<ul>\n<li>installed ngrok via <a href=\"//brew.sh\">brew</a> <code class=\"language-text\">brew install ngrok</code></li>\n</ul>\n<p>At this point,  I can spin it up:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    ngrok http 3000</code></pre></div>\n<p>And it gives me a great output:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/93404594fae18ea314831251b2ee726a/d43b4/terminal-snapshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8ElEQVQoz4VR2ZLDIAwjkKsQNje5aPKQ/v8vaiO6zbTTdvZBGGzZlo0wywLbO2jnYPwVxZVYIaVEFEUnhBD3e/B/h5A/x6EF4lohSkVIfEDag3SJoKRCHMehyXP8I/zq0bsexhrk+vISbLoGbnBI0xRlWQb7b8HbfsM0TihM8aKA4y3zgnme4b3HMAwYxzEoDer/VkJLKKXuqyFxXVc0TfPWzR17bdsW27Zh3/fAYwNrbVDcdV3Im6YJy/EXhNBawxiDLMveCtJHRUmShHEf4Jt+xvnO8/zkCRb7VJBjsBktFTGBasmluqqqTlvX9Zn3C8gOmWGyNP31AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ngrok output\"\n        title=\"ngrok output\"\n        src=\"/static/93404594fae18ea314831251b2ee726a/fcda8/terminal-snapshot.png\"\n        srcset=\"/static/93404594fae18ea314831251b2ee726a/12f09/terminal-snapshot.png 148w,\n/static/93404594fae18ea314831251b2ee726a/e4a3f/terminal-snapshot.png 295w,\n/static/93404594fae18ea314831251b2ee726a/fcda8/terminal-snapshot.png 590w,\n/static/93404594fae18ea314831251b2ee726a/efc66/terminal-snapshot.png 885w,\n/static/93404594fae18ea314831251b2ee726a/c83ae/terminal-snapshot.png 1180w,\n/static/93404594fae18ea314831251b2ee726a/d43b4/terminal-snapshot.png 1202w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Pretty simple, right?</p>\n<p>From here, we curl to verify, <code class=\"language-text\">curl https://&lt;generated_url&gt;.ngrok.io</code></p>\n<p>Which threw an error:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    The connection to &lt;strong&gt;&lt;a href=&quot;http://0b3528a6e09c.ngrok.io&quot;&gt;http://0b3528a6e09c.ngrok.io&lt;/a&gt;&lt;/strong&gt;\n    was successfully tunneled to your ngrok client,\n    but the client failed to establish a connection to\n    the local address &lt;strong&gt;&lt;a href=&quot;http://localhost:3000&quot;&gt;localhost:3000&lt;/a&gt;&lt;/strong&gt;.</code></pre></div>\n<p>This isn't what I wanted on my Sunday evening.</p>\n<p>Just to isolate the issue, I signed up with an account with ngrok. I didn't want to mess with random generated URLs anymore, and their free account looked like it would suit my current needs perfectly.</p>\n<p><a href=\"https://dashboard.ngrok.com/get-started/setup\">So we head down the official getting started docs</a>.</p>\n<p>Same error. Cool. Consistent! Moving on.</p>\n<h2>Fixing ngrok on OSX</h2>\n<p>Oh god damn it. When you're away from playing in servers too long, you miss the obvious. Of course nothing is working locally when you aren't running a <em>server</em> locally. So we'll spin one up real quick (I'm nabbing these examples online, we can clean this up later):</p>\n<h3>Some assumptions</h3>\n<p>I'm not going to break down how to install/configure/full flesh out the below examples <em>right now</em>. Or maybe ever, who knows - the idea is \"if you can see an example, and you have questions, you should be able to search for it online - \"rail server example\" - for example. \"ngrok express node tutorial\" as another. I think the hardest part I've seen on reddit and stackoverflow has been developers refusing to read beyond \"I copied a command, it doesn't do what I want, someone use a search engine for me and give me more examples.\"</p>\n<h3>Running Rails?</h3>\n<p><code class=\"language-text\">rail server</code> will give you <code class=\"language-text\">localhost:3000</code></p>\n<h3>Running Apache?</h3>\n<p><code class=\"language-text\">sudo apachectl start</code> will give you <code class=\"language-text\">localhost:80</code></p>\n<h3>Running PHP?</h3>\n<p><code class=\"language-text\">php -S localhost:8080</code> will give you <code class=\"language-text\">localhost:8080</code> (clearly).</p>\n<h3>Running node.js/Express?</h3>\n<p>This is a little more in depth. Surely we can find an example file/project/gist to run with? I basically modified <a href=\"https://steven-senkus.com/ngrok-node-js-localhost-public/\">this ngrok express exampe</a> to a bare-bones usage:</p>\n<p><div id=\"gist104165721\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-index-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-index-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-index-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-c>// super simple express server</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-index-js-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s>&#39;use strict&#39;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-index-js-LC3\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-index-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>http</span> <span class=pl-c1>=</span> <span class=pl-en>require</span><span class=pl-kos>(</span><span class=pl-s>`http`</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-index-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>port</span> <span class=pl-c1>=</span> <span class=pl-c1>8080</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-index-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>server</span> <span class=pl-c1>=</span> <span class=pl-s1>http</span><span class=pl-kos>.</span><span class=pl-en>createServer</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>req</span><span class=pl-kos>,</span> <span class=pl-s1>res</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-index-js-LC7\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-s1>res</span><span class=pl-kos>.</span><span class=pl-en>end</span><span class=pl-kos>(</span><span class=pl-s>`Hello, World!`</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-index-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-index-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-index-js-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s1>server</span><span class=pl-kos>.</span><span class=pl-en>listen</span><span class=pl-kos>(</span><span class=pl-s1>port</span><span class=pl-kos>,</span> <span class=pl-kos>(</span><span class=pl-s1>err</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-index-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>err</span><span class=pl-kos>)</span> <span class=pl-k>return</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s>`Something bad happened: <span class=pl-s1><span class=pl-kos>${</span><span class=pl-s1>err</span><span class=pl-kos>}</span></span>`</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-index-js-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s>`Node.js server listening on <span class=pl-s1><span class=pl-kos>${</span><span class=pl-s1>port</span><span class=pl-kos>}</span></span>`</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-index-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-index-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/keif/b7ccd29607a21af0689c52555549ed0e/raw/9571c4b327eb9bc6356989c874eda8766898963f/index.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/keif/b7ccd29607a21af0689c52555549ed0e#file-index-js\">index.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>NOW WE ARE GETTING SOMEWHERE!</p>\n<p>Now I'm getting <code class=\"language-text\">POST</code>/<code class=\"language-text\">GET</code> responses! Finally :)</p>\n<p>Up next, getting my internal application to fire off the events I actually am requesting, which it isn't currently doing, but that's a \"future\" task to write about.</p>","timeToRead":3,"frontmatter":{"path":"/ngrok-on-osx","title":"NGROK on OSX","date":"6th July, 2020.","category":"Code"}}},"pageContext":{}}}